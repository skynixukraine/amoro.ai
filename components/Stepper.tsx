import React from 'react';
import {
  Box,
  Step,
  StepContent,
  StepLabel,
  Stepper,
  Typography,
} from '@mui/material';

import { useTheme } from '@mui/material/styles';

const StepperComponent: React.FC<{
  steps: Array<{ title: string; description: string }>;
  activeStep: number;
}> = ({ steps, activeStep }) => {
  const theme = useTheme();
  const primaryColor = theme.palette.primary.main;
  const notFocusedColor = '#6B7280';

  const getIconForStepper = (index: number, activeIndex: number) => {
    const svgIcons = {
      likeIcon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M3.37655 5.65211H0.844138C0.620259 5.65211 0.405549 5.73565 0.247242 5.88436C0.0889357 6.03306 0 6.23474 0 6.44503V13.5813C0 14.0019 0.177871 14.4053 0.494485 14.7027C0.811098 15.0001 1.24052 15.1672 1.68828 15.1672H2.53242C2.98017 15.1672 3.40959 15.0001 3.72621 14.7027C4.04282 14.4053 4.22069 14.0019 4.22069 13.5813V6.44503C4.22069 6.23474 4.13176 6.03306 3.97345 5.88436C3.81514 5.73565 3.60043 5.65211 3.37655 5.65211Z"
            fill={index === activeIndex ? primaryColor : notFocusedColor}
          />
          <path
            d="M14.3115 5.65211H10.9738L12.289 2.08397C12.3321 1.75747 12.2523 1.42706 12.0634 1.14999C11.8745 0.872925 11.5884 0.66664 11.2546 0.56687C10.9209 0.4671 10.5605 0.480128 10.2358 0.603697C9.91121 0.727266 9.64281 0.953594 9.47714 1.24348C8.50147 2.80755 7.30076 4.23771 5.90897 5.49353V13.0945H6.0052C7.78549 13.5567 10.1423 14.3742 12.3244 14.3742C13.5062 14.3742 13.6683 13.9572 13.9114 13.33L15.8985 7.77952C15.9912 7.53996 16.021 7.28295 15.9855 7.03026C15.9499 6.77758 15.8501 6.53666 15.6944 6.32792C15.5386 6.11918 15.3317 5.94877 15.0909 5.83113C14.8502 5.71349 14.5829 5.65208 14.3115 5.65211Z"
            fill={index === activeIndex ? primaryColor : notFocusedColor}
          />
        </svg>
      ),
      profileIcon: (
        <svg
          width="16"
          height="14"
          viewBox="0 0 16 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14.4 0.16748H1.6C1.17565 0.16748 0.768687 0.343075 0.468629 0.655636C0.168571 0.968196 0 1.39212 0 1.83415V11.8341C0 12.2762 0.168571 12.7001 0.468629 13.0127C0.768687 13.3252 1.17565 13.5008 1.6 13.5008H14.4C14.8243 13.5008 15.2313 13.3252 15.5314 13.0127C15.8314 12.7001 16 12.2762 16 11.8341V1.83415C16 1.39212 15.8314 0.968196 15.5314 0.655636C15.2313 0.343075 14.8243 0.16748 14.4 0.16748V0.16748ZM5.2 2.66748C5.59556 2.66748 5.98224 2.78967 6.31114 3.01859C6.64004 3.2475 6.89638 3.57288 7.04776 3.95356C7.19913 4.33424 7.23874 4.75313 7.16157 5.15725C7.0844 5.56138 6.89392 5.93259 6.61421 6.22395C6.33451 6.51531 5.97814 6.71373 5.59018 6.79412C5.20222 6.8745 4.80009 6.83325 4.43463 6.67556C4.06918 6.51788 3.75682 6.25085 3.53706 5.90825C3.3173 5.56565 3.2 5.16286 3.2 4.75081C3.2 4.19828 3.41071 3.66838 3.78579 3.27767C4.16086 2.88697 4.66957 2.66748 5.2 2.66748V2.66748ZM2.4112 11.0183L2.5368 10.4975C2.64873 9.84375 2.97586 9.25109 3.46191 8.82143C3.94797 8.39178 4.56257 8.15199 5.2 8.14331C5.83421 8.15244 6.44575 8.39041 6.93038 8.81666C7.415 9.24291 7.74269 9.83105 7.8576 10.4808L7.9848 10.9991L2.4112 11.0183ZM12.8 10.1675H10.4C10.1878 10.1675 9.98434 10.0797 9.83431 9.9234C9.68429 9.76712 9.6 9.55516 9.6 9.33415C9.6 9.11313 9.68429 8.90117 9.83431 8.74489C9.98434 8.58861 10.1878 8.50081 10.4 8.50081H12.8C13.0122 8.50081 13.2157 8.58861 13.3657 8.74489C13.5157 8.90117 13.6 9.11313 13.6 9.33415C13.6 9.55516 13.5157 9.76712 13.3657 9.9234C13.2157 10.0797 13.0122 10.1675 12.8 10.1675ZM12.8 7.66748H10.4C10.1878 7.66748 9.98434 7.57968 9.83431 7.4234C9.68429 7.26712 9.6 7.05516 9.6 6.83415C9.6 6.61313 9.68429 6.40117 9.83431 6.24489C9.98434 6.08861 10.1878 6.00081 10.4 6.00081H12.8C13.0122 6.00081 13.2157 6.08861 13.3657 6.24489C13.5157 6.40117 13.6 6.61313 13.6 6.83415C13.6 7.05516 13.5157 7.26712 13.3657 7.4234C13.2157 7.57968 13.0122 7.66748 12.8 7.66748ZM12.8 5.16748H10.4C10.1878 5.16748 9.98434 5.07968 9.83431 4.9234C9.68429 4.76712 9.6 4.55516 9.6 4.33415C9.6 4.11313 9.68429 3.90117 9.83431 3.74489C9.98434 3.58861 10.1878 3.50081 10.4 3.50081H12.8C13.0122 3.50081 13.2157 3.58861 13.3657 3.74489C13.5157 3.90117 13.6 4.11313 13.6 4.33415C13.6 4.55516 13.5157 4.76712 13.3657 4.9234C13.2157 5.07968 13.0122 5.16748 12.8 5.16748Z"
            fill={index === activeIndex ? primaryColor : notFocusedColor}
          />
        </svg>
      ),
      clipboardIcon: (
        <svg
          width="14"
          height="17"
          viewBox="0 0 14 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12.0982 2.43398H9.74526C9.74526 2.00964 9.57999 1.60267 9.28582 1.30261C8.99164 1.00256 8.59266 0.833984 8.17663 0.833984H5.82369C5.40767 0.833984 5.00868 1.00256 4.71451 1.30261C4.42033 1.60267 4.25506 2.00964 4.25506 2.43398H1.90212C1.4861 2.43398 1.08711 2.60256 0.792936 2.90261C0.498762 3.20267 0.333496 3.60964 0.333496 4.03398V15.234C0.333496 15.6583 0.498762 16.0653 0.792936 16.3654C1.08711 16.6654 1.4861 16.834 1.90212 16.834H12.0982C12.5142 16.834 12.9132 16.6654 13.2074 16.3654C13.5016 16.0653 13.6668 15.6583 13.6668 15.234V4.03398C13.6668 3.60964 13.5016 3.20267 13.2074 2.90261C12.9132 2.60256 12.5142 2.43398 12.0982 2.43398V2.43398ZM8.17663 2.43398V4.83398H5.82369V2.43398H8.17663ZM9.74526 12.834H4.25506C4.04705 12.834 3.84756 12.7497 3.70047 12.5997C3.55338 12.4496 3.47075 12.2462 3.47075 12.034C3.47075 11.8218 3.55338 11.6183 3.70047 11.4683C3.84756 11.3183 4.04705 11.234 4.25506 11.234H9.74526C9.95327 11.234 10.1528 11.3183 10.2999 11.4683C10.4469 11.6183 10.5296 11.8218 10.5296 12.034C10.5296 12.2462 10.4469 12.4496 10.2999 12.5997C10.1528 12.7497 9.95327 12.834 9.74526 12.834ZM9.74526 9.63398H4.25506C4.04705 9.63398 3.84756 9.5497 3.70047 9.39967C3.55338 9.24964 3.47075 9.04616 3.47075 8.83398C3.47075 8.62181 3.55338 8.41833 3.70047 8.2683C3.84756 8.11827 4.04705 8.03398 4.25506 8.03398H9.74526C9.95327 8.03398 10.1528 8.11827 10.2999 8.2683C10.4469 8.41833 10.5296 8.62181 10.5296 8.83398C10.5296 9.04616 10.4469 9.24964 10.2999 9.39967C10.1528 9.5497 9.95327 9.63398 9.74526 9.63398Z"
            fill={index === activeIndex ? primaryColor : notFocusedColor}
          />
        </svg>
      ),
      fileCheckIcon: (
        <svg
          width="14"
          height="17"
          viewBox="0 0 14 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4.50016 4.83398V0.937984C4.0985 1.04838 3.726 1.24518 3.42266 1.53718L1.066 3.79958C0.762663 4.09078 0.557663 4.44838 0.44183 4.83398H4.50016Z"
            fill={index === activeIndex ? primaryColor : notFocusedColor}
          />
          <path
            d="M12.0552 0.833984H6.16683V4.83398C6.16683 5.71638 5.41933 6.43398 4.50016 6.43398H0.333496V15.234C0.333496 16.1164 1.056 16.834 1.94516 16.834H12.056C12.9443 16.834 13.6668 16.1164 13.6668 15.234V2.43398C13.6668 1.55158 12.9443 0.833984 12.0552 0.833984ZM10.0893 9.39958L6.756 12.5996C6.5935 12.7556 6.38016 12.834 6.16683 12.834C5.9535 12.834 5.74016 12.7556 5.57766 12.5996L3.911 10.9996C3.58516 10.6868 3.58516 10.1812 3.911 9.86838C4.23683 9.55558 4.7635 9.55558 5.08933 9.86838L6.16683 10.9028L8.911 8.26838C9.23683 7.95558 9.7635 7.95558 10.0893 8.26838C10.4152 8.58118 10.4152 9.08678 10.0893 9.39958Z"
            fill={index === activeIndex ? primaryColor : notFocusedColor}
          />
        </svg>
      )
    };

    switch (index) {
      case 0:
        return svgIcons.likeIcon;
      case 1:
        return svgIcons.profileIcon;
      case 2:
        return svgIcons.clipboardIcon;
      case 3:
        return svgIcons.fileCheckIcon;

      default:
        throw new Error('There is not any icon for this index');
    }
  };
  return (
    <Stepper activeStep={activeStep} orientation="vertical">
      {steps.map((step, index) => (
        <Step key={step.description}>
          <StepLabel
            sx={{
              '& span': {
                fontFamily: 'Inter',
                fontSize: '16px',
              },
              '& p': {
                fontFamily: 'Inter',
                fontSize: '16px',
              },
            }}
            optional={
              index !== activeStep && (
                <Typography variant="caption">{step.description}</Typography>
              )
            }
            icon={
              index !== activeStep && index < activeStep ? (
                <div
                  style={{
                    height: '32px',
                    width: '32px',
                    backgroundColor: '#e7f0eb',
                    borderRadius: '50%',
                    display: 'inline-block',
                    position: 'relative',
                  }}
                >
                  {
                    <div
                      style={{
                        position: 'absolute',
                        top: '0',
                        left: '0',
                        // margin: '-8px 0px 0px -8px',
                      }}
                    >
                      <svg
                        fill={primaryColor}
                        viewBox="0 0 16 16"
                        height="32px"
                        width="32px"
                      >
                        <path d="M16 8A8 8 0 110 8a8 8 0 0116 0zm-3.97-3.03a.75.75 0 00-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 00-1.06 1.06L6.97 11.03a.75.75 0 001.079-.02l3.992-4.99a.75.75 0 00-.01-1.05z" />
                      </svg>
                    </div>
                  }
                </div>
               
              ) : (
                <div
                style={{
                  height: '32px',
                  width: '32px',
                  backgroundColor: '#e7f0eb',
                  borderRadius: '50%',
                  display: 'inline-block',
                  position: 'relative',
                }}
              >
                {
                  <div
                    style={{
                      position: 'absolute',
                      top: '50%',
                      left: '50%',
                      margin: '-8px 0px 0px -8px',
                    }}
                  >
                    {getIconForStepper(index, activeStep)}
                  </div>
                }
              </div>
              )
            }
          >
            {step.title}
          </StepLabel>
          <StepContent>
            <Typography>{step.description}</Typography>
          </StepContent>
        </Step>
      ))}
    </Stepper>
  );
};

export default StepperComponent;
